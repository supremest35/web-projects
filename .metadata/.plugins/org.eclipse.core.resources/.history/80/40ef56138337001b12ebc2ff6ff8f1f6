package dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

import util.ConnectionUtil;

public class BoardDao {

	private static final String GET_BOARD_NO_SQL = "select test_board_seq.nextval no from dual";
	
	// 싱글턴 객체
	private static final BoardDao boardDao = new BoardDao();
	private BoardDao() {}
	public static BoardDao getInstance() {
		return boardDao;
	}
	
	public int getBoardNo() throws SQLException {
		int boardNo = 0;
		
		Connection con = ConnectionUtil.getConnection();
		PreparedStatement pstmt = con.prepareStatement(GET_BOARD_NO_SQL);
		ResultSet rs = pstmt.executeQuery();
		
		rs.next();
		
		boardNo = rs.getInt("no");
		
		return boardNo;
		
	}
}
